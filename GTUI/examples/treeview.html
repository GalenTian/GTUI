<!DOCTYPE html>
<html>
<head>
    <title>Tree</title>
    <meta charset="utf-8" />

    <link type="text/css" rel="stylesheet" href="../dist/css/gtui.css" />
</head>
<body ng-app="GTUIComponent">
    <div>
        <h1>Tree View</h1>
        <div ng-controller="DemoController as dc">
            <div gtui-tree-view data-config="{ controllerAs: 'dc', itemsField: 'items' }"></div>
        </div>
    </div>

    <script src="lib/jquery-1.9.0.js"></script>
    <script src="lib/jquery-ui-1.9.2.js"></script>
    <script src="lib/angular-1.28.js"></script>
    <script src="../dist/js/gtui.js"></script>
    <script type="text/javascript">

        var setText = function (data) {
            for (var i = 0, length = data.length; i < length; i++) {
                data[i].text = data[i].LongName + ' (' + data[i].ShortName + ')';

                if (data[i].nodes) {
                    setText(data[i].nodes);
                }
            }
        };

        var MyPagerController = function ($scope) {
            var vm = this;

            vm.items = [
                {
                    DepartmentID: 'DEP000000001',
                    LongName: 'Level 1',
                    ShortName: 'LV1',
                    state: {
                        checked: false
                    },
                    nodes: [
                        {
                            DepartmentID: 'DEP000000011',
                            LongName: 'Level 1-1',
                            ShortName: 'LV1-1',
                            state: {
                                checked: false
                            },
                            nodes: [
                                {
                                    DepartmentID: 'DEP000000111',
                                    LongName: 'Level 1-1-1',
                                    ShortName: 'LV1-1-1'
                                },
                                {
                                    DepartmentID: 'DEP000000112',
                                    LongName: 'Level 1-1-1',
                                    ShortName: 'LV1-1-1'
                                }
                            ]
                        },
                        {
                            DepartmentID: 'DEP000000012',
                            LongName: 'Level 1-2',
                            ShortName: 'LV1-2',
                            state: {
                                checked: true
                            }
                        }
                    ]
                },
                {
                    DepartmentID: 'DEP000000002',
                    LongName: 'Level 1',
                    ShortName: 'LV1',
                    state: {
                        checked: true
                    }
                }

            ];

            setText(vm.items);

            return vm;
        };

        // Page Controller
        angular.module('GTUIComponent', ['gtui'])
            // Controllers for Tables
            .controller('DemoController', MyPagerController);
    </script>
</body>
</html>
